@using MudBlazor.ThemeManager
@inherits LayoutComponentBase

<MudThemeProvider Theme="_themeManager.Theme" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <NavMenu CanMiniSideMenuDrawer="_canMiniSideMenuDrawer"
             OpenCommandPalette="OpenCommandPalette" 
             ToggleSideMenuDrawer="ToggleSideMenuDrawer"
             User="_user" />

    <SideMenu @bind-CanMiniSideMenuDrawer="_canMiniSideMenuDrawer"
              @bind-SideMenuDrawerOpen="_sideMenuDrawerOpen"
              User="_user" />

    <MudMainContent>
        <MudContainer Class="mb-16 mt-4">
            @Body
        </MudContainer>
    </MudMainContent>

    <MudThemeManagerButton OnClick="@((e) => OpenThemeManager(true))" />
    <MudThemeManager Open="_themeManagerOpen" OpenChanged="OpenThemeManager" Theme="_themeManager" ThemeChanged="UpdateTheme" />
</MudLayout>